 /*
 * # Semantic UI - 2.1.7
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,n,o,t){"use strict";e.fn.accordion=function(o){var i,a=e(this),s=(new Date).getTime(),r=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1);n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(){var d,m,g=e.isPlainObject(o)?e.extend(!0,{},e.fn.accordion.settings,o):e.extend({},e.fn.accordion.settings),f=g.className,p=g.namespace,b=g.selector,h=g.error,v="."+p,y="module-"+p,C=a.selector||"",P=e(this),x=P.find(b.title),S=P.find(b.content),k=this,w=P.data(y);m={initialize:function(){m.debug("Initializing",P),m.bind.events(),g.observeChanges&&m.observeChanges(),m.instantiate()},instantiate:function(){w=m,P.data(y,m)},destroy:function(){m.debug("Destroying previous instance",P),P.off(v).removeData(y)},refresh:function(){x=P.find(b.title),S=P.find(b.content)},observeChanges:function(){"MutationObserver"in n&&(d=new MutationObserver(function(e){m.debug("DOM tree modified, updating selector cache"),m.refresh()}),d.observe(k,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",d))},bind:{events:function(){m.debug("Binding delegated events"),P.on(g.on+v,b.trigger,m.event.click)}},event:{click:function(){m.toggle.call(this)}},toggle:function(n){var o=n!==t?"number"==typeof n?x.eq(n):e(n).closest(b.title):e(this).closest(b.title),i=o.next(S),a=i.hasClass(f.animating),s=i.hasClass(f.active),r=s&&!a,c=!s&&a;m.debug("Toggling visibility of content",o),r||c?g.collapsible?m.close.call(o):m.debug("Cannot close accordion content collapsing is disabled"):m.open.call(o)},open:function(n){var o=n!==t?"number"==typeof n?x.eq(n):e(n).closest(b.title):e(this).closest(b.title),i=o.next(S),a=i.hasClass(f.animating),s=i.hasClass(f.active),r=s||a;return r?void m.debug("Accordion already open, skipping",i):(m.debug("Opening accordion content",o),g.onOpening.call(i),g.exclusive&&m.closeOthers.call(o),o.addClass(f.active),i.stop(!0,!0).addClass(f.animating),g.animateChildren&&(e.fn.transition!==t&&P.transition("is supported")?i.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:g.debug,verbose:g.verbose,duration:g.duration}):i.children().stop(!0,!0).animate({opacity:1},g.duration,m.resetOpacity)),void i.slideDown(g.duration,g.easing,function(){i.removeClass(f.animating).addClass(f.active),m.reset.display.call(this),g.onOpen.call(this),g.onChange.call(this)}))},close:function(n){var o=n!==t?"number"==typeof n?x.eq(n):e(n).closest(b.title):e(this).closest(b.title),i=o.next(S),a=i.hasClass(f.animating),s=i.hasClass(f.active),r=!s&&a,c=s&&a;!s&&!r||c||(m.debug("Closing accordion content",i),g.onClosing.call(i),o.removeClass(f.active),i.stop(!0,!0).addClass(f.animating),g.animateChildren&&(e.fn.transition!==t&&P.transition("is supported")?i.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:g.debug,verbose:g.verbose,duration:g.duration}):i.children().stop(!0,!0).animate({opacity:0},g.duration,m.resetOpacity)),i.slideUp(g.duration,g.easing,function(){i.removeClass(f.animating).removeClass(f.active),m.reset.display.call(this),g.onClose.call(this),g.onChange.call(this)}))},closeOthers:function(n){var o,i,a,s=n!==t?x.eq(n):e(this).closest(b.title),r=s.parents(b.content).prev(b.title),c=s.closest(b.accordion),l=b.title+"."+f.active+":visible",u=b.content+"."+f.active+":visible";g.closeNested?(o=c.find(l).not(r),a=o.next(S)):(o=c.find(l).not(r),i=c.find(u).find(l).not(r),o=o.not(i),a=o.next(S)),o.length>0&&(m.debug("Exclusive enabled, closing other content",o),o.removeClass(f.active),a.removeClass(f.animating).stop(!0,!0),g.animateChildren&&(e.fn.transition!==t&&P.transition("is supported")?a.children().transition({animation:"fade out",useFailSafe:!0,debug:g.debug,verbose:g.verbose,duration:g.duration}):a.children().stop(!0,!0).animate({opacity:0},g.duration,m.resetOpacity)),a.slideUp(g.duration,g.easing,function(){e(this).removeClass(f.active),m.reset.display.call(this)}))},reset:{display:function(){m.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){m.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(n,o){if(m.debug("Changing setting",n,o),e.isPlainObject(n))e.extend(!0,g,n);else{if(o===t)return g[n];g[n]=o}},internal:function(n,o){return m.debug("Changing internal",n,o),o===t?m[n]:void(e.isPlainObject(n)?e.extend(!0,m,n):m[n]=o)},debug:function(){g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+":"),m.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,g.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var n,o,t;g.performance&&(n=(new Date).getTime(),t=s||n,o=n-t,s=n,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":o})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var n=g.name+":",o=0;s=!1,clearTimeout(m.performance.timer),e.each(r,function(e,n){o+=n["Execution Time"]}),n+=" "+o+"ms",C&&(n+=" '"+C+"'"),(console.group!==t||console.table!==t)&&r.length>0&&(console.groupCollapsed(n),console.table?console.table(r):e.each(r,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(n,o,a){var s,r,c,l=w;return o=o||u,a=k||a,"string"==typeof n&&l!==t&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(o,i){var a=o!=s?i+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(l[a])&&o!=s)l=l[a];else{if(l[a]!==t)return r=l[a],!1;if(!e.isPlainObject(l[i])||o==s)return l[i]!==t?(r=l[i],!1):(m.error(h.method,n),!1);l=l[i]}})),e.isFunction(r)?c=r.apply(a,o):r!==t&&(c=r),e.isArray(i)?i.push(c):i!==t?i=[i,c]:c!==t&&(i=c),r}},l?(w===t&&m.initialize(),m.invoke(c)):(w!==t&&w.invoke("destroy"),m.initialize())}),i!==t?i:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,n,o,t,i){return-t*(n/=i)*(n-2)+o}})}(jQuery,window,document),function(e,n,o,t){"use strict";e.fn.embed=function(o){var i,a=e(this),s=a.selector||"",r=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var m,g=e.isPlainObject(o)?e.extend(!0,{},e.fn.embed.settings,o):e.extend({},e.fn.embed.settings),f=g.selector,p=g.className,b=g.sources,h=g.error,v=g.metadata,y=g.namespace,C=g.templates,P="."+y,x="module-"+y,S=(e(n),e(this)),k=S.find(f.placeholder),w=S.find(f.icon),T=S.find(f.embed),O=this,R=S.data(x);m={initialize:function(){m.debug("Initializing embed"),m.determine.autoplay(),m.create(),m.bind.events(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),R=m,S.data(x,m)},destroy:function(){m.verbose("Destroying previous instance of embed"),m.reset(),S.removeData(x).off(P)},refresh:function(){m.verbose("Refreshing selector cache"),k=S.find(f.placeholder),w=S.find(f.icon),T=S.find(f.embed)},bind:{events:function(){m.has.placeholder()&&(m.debug("Adding placeholder events"),S.on("click"+P,f.placeholder,m.createAndShow).on("click"+P,f.icon,m.createAndShow))}},create:function(){var e=m.get.placeholder();e?m.createPlaceholder():m.createAndShow()},createPlaceholder:function(e){var n=m.get.icon(),o=m.get.url();m.generate.embed(o);e=e||m.get.placeholder(),S.html(C.placeholder(e,n)),m.debug("Creating placeholder for embed",e,n)},createEmbed:function(n){m.refresh(),n=n||m.get.url(),T=e("<div/>").addClass(p.embed).html(m.generate.embed(n)).appendTo(S),g.onCreate.call(O,n),m.debug("Creating embed object",T)},createAndShow:function(){m.createEmbed(),m.show()},change:function(e,n,o){m.debug("Changing video to ",e,n,o),S.data(v.source,e).data(v.id,n).data(v.url,o),m.create()},reset:function(){m.debug("Clearing embed and showing placeholder"),m.remove.active(),m.remove.embed(),m.showPlaceholder(),g.onReset.call(O)},show:function(){m.debug("Showing embed"),m.set.active(),g.onDisplay.call(O)},hide:function(){m.debug("Hiding embed"),m.showPlaceholder()},showPlaceholder:function(){m.debug("Showing placeholder image"),m.remove.active(),g.onPlaceholderDisplay.call(O)},get:{id:function(){return g.id||S.data(v.id)},placeholder:function(){return g.placeholder||S.data(v.placeholder)},icon:function(){return g.icon?g.icon:S.data(v.icon)!==t?S.data(v.icon):m.determine.icon()},source:function(e){return g.source?g.source:S.data(v.source)!==t?S.data(v.source):m.determine.source()},type:function(){var e=m.get.source();return b[e]!==t?b[e].type:!1},url:function(){return g.url?g.url:S.data(v.url)!==t?S.data(v.url):m.determine.url()}},determine:{autoplay:function(){m.should.autoplay()&&(g.autoplay=!0)},source:function(n){var o=!1;return n=n||m.get.url(),n&&e.each(b,function(e,t){return-1!==n.search(t.domain)?(o=e,!1):void 0}),o},icon:function(){var e=m.get.source();return b[e]!==t?b[e].icon:!1},url:function(){var e,n=g.id||S.data(v.id),o=g.source||S.data(v.source);return e=b[o]!==t?b[o].url.replace("{id}",n):!1,e&&S.data(v.url,e),e}},set:{active:function(){S.addClass(p.active)}},remove:{active:function(){S.removeClass(p.active)},embed:function(){T.empty()}},encode:{parameters:function(e){var n,o=[];for(n in e)o.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return o.join("&amp;")}},generate:{embed:function(e){m.debug("Generating embed html");var n,o,t=m.get.source();return e=m.get.url(e),e?(o=m.generate.parameters(t),n=C.iframe(e,o)):m.error(h.noURL,S),n},parameters:function(n,o){var i=b[n]&&b[n].parameters!==t?b[n].parameters(g):{};return o=o||g.parameters,o&&(i=e.extend({},i,o)),i=g.onEmbed(i),m.encode.parameters(i)}},has:{placeholder:function(){return g.placeholder||S.data(v.placeholder)}},should:{autoplay:function(){return"auto"===g.autoplay?g.placeholder||S.data(v.placeholder)!==t:g.autoplay}},is:{video:function(){return"video"==m.get.type()}},setting:function(n,o){if(m.debug("Changing setting",n,o),e.isPlainObject(n))e.extend(!0,g,n);else{if(o===t)return g[n];g[n]=o}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,m,n);else{if(o===t)return m[n];m[n]=o}},debug:function(){g.debug&&(g.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,g.name+":"),m.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,g.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var n,o,t;g.performance&&(n=(new Date).getTime(),t=r||n,o=n-t,r=n,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":o})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var n=g.name+":",o=0;r=!1,clearTimeout(m.performance.timer),e.each(c,function(e,n){o+=n["Execution Time"]}),n+=" "+o+"ms",s&&(n+=" '"+s+"'"),a.length>1&&(n+=" ("+a.length+")"),(console.group!==t||console.table!==t)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,o,a){var s,r,c,l=R;return o=o||d,a=O||a,"string"==typeof n&&l!==t&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(o,i){var a=o!=s?i+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(l[a])&&o!=s)l=l[a];else{if(l[a]!==t)return r=l[a],!1;if(!e.isPlainObject(l[i])||o==s)return l[i]!==t?(r=l[i],!1):(m.error(h.method,n),!1);l=l[i]}})),e.isFunction(r)?c=r.apply(a,o):r!==t&&(c=r),e.isArray(i)?i.push(c):i!==t?i=[i,c]:c!==t&&(i=c),r}},u?(R===t&&m.initialize(),m.invoke(l)):(R!==t&&R.invoke("destroy"),m.initialize())}),i!==t?i:this},e.fn.embed.settings={name:"Embed",namespace:"embed",debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.colors||t,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.colors||t,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,n){return'<iframe src="'+e+"?"+n+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,n){var o="";return n&&(o+='<i class="'+n+' icon"></i>'),e&&(o+='<img class="placeholder" src="'+e+'">'),o}},api:!0,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(e,n,o,t){"use strict";e.fn.nag=function(o){var i,a=e(this),s=a.selector||"",r=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1);return a.each(function(){var a,m=e.isPlainObject(o)?e.extend(!0,{},e.fn.nag.settings,o):e.extend({},e.fn.nag.settings),g=(m.className,m.selector),f=m.error,p=m.namespace,b="."+p,h=p+"-module",v=e(this),y=(v.find(g.close),e(m.context?m.context:"body")),C=this,P=v.data(h);n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)};a={initialize:function(){a.verbose("Initializing element"),v.on("click"+b,g.close,a.dismiss).data(h,a),m.detachable&&v.parent()[0]!==y[0]&&v.detach().prependTo(y),m.displayTime>0&&setTimeout(a.hide,m.displayTime),a.show()},destroy:function(){a.verbose("Destroying instance"),v.removeData(h).off(b)},show:function(){a.should.show()&&!v.is(":visible")&&(a.debug("Showing nag",m.animation.show),"fade"==m.animation.show?v.fadeIn(m.duration,m.easing):v.slideDown(m.duration,m.easing))},hide:function(){a.debug("Showing nag",m.animation.hide),"fade"==m.animation.show?v.fadeIn(m.duration,m.easing):v.slideUp(m.duration,m.easing)},onHide:function(){a.debug("Removing nag",m.animation.hide),v.remove(),m.onHide&&m.onHide()},dismiss:function(e){m.storageMethod&&a.storage.set(m.key,m.value),a.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return m.persist?(a.debug("Persistent nag is set, can show nag"),!0):a.storage.get(m.key)!=m.value.toString()?(a.debug("Stored value is not set, can show nag",a.storage.get(m.key)),!0):(a.debug("Stored value is set, cannot show nag",a.storage.get(m.key)),!1)}},get:{storageOptions:function(){var e={};return m.expires&&(e.expires=m.expires),m.domain&&(e.domain=m.domain),m.path&&(e.path=m.path),e}},clear:function(){a.storage.remove(m.key)},storage:{set:function(o,i){var s=a.get.storageOptions();if("localstorage"==m.storageMethod&&n.localStorage!==t)n.localStorage.setItem(o,i),a.debug("Value stored using local storage",o,i);else if("sessionstorage"==m.storageMethod&&n.sessionStorage!==t)n.sessionStorage.setItem(o,i),a.debug("Value stored using session storage",o,i);else{if(e.cookie===t)return void a.error(f.noCookieStorage);e.cookie(o,i,s),a.debug("Value stored using cookie",o,i,s)}},get:function(o,i){var s;return"localstorage"==m.storageMethod&&n.localStorage!==t?s=n.localStorage.getItem(o):"sessionstorage"==m.storageMethod&&n.sessionStorage!==t?s=n.sessionStorage.getItem(o):e.cookie!==t?s=e.cookie(o):a.error(f.noCookieStorage),("undefined"==s||"null"==s||s===t||null===s)&&(s=t),s},remove:function(o){var i=a.get.storageOptions();"localstorage"==m.storageMethod&&n.localStorage!==t?n.localStorage.removeItem(o):"sessionstorage"==m.storageMethod&&n.sessionStorage!==t?n.sessionStorage.removeItem(o):e.cookie!==t?e.removeCookie(o,i):a.error(f.noStorage)}},setting:function(n,o){if(a.debug("Changing setting",n,o),e.isPlainObject(n))e.extend(!0,m,n);else{if(o===t)return m[n];m[n]=o}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,a,n);else{if(o===t)return a[n];a[n]=o}},debug:function(){m.debug&&(m.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,m.name+":"),a.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),a.verbose.apply(console,arguments)))},error:function(){a.error=Function.prototype.bind.call(console.error,console,m.name+":"),a.error.apply(console,arguments)},performance:{log:function(e){var n,o,t;m.performance&&(n=(new Date).getTime(),t=r||n,o=n-t,r=n,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":o})),clearTimeout(a.performance.timer),a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var n=m.name+":",o=0;r=!1,clearTimeout(a.performance.timer),e.each(c,function(e,n){o+=n["Execution Time"]}),n+=" "+o+"ms",s&&(n+=" '"+s+"'"),(console.group!==t||console.table!==t)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,o,s){var r,c,l,u=P;return o=o||d,s=C||s,"string"==typeof n&&u!==t&&(n=n.split(/[\. ]/),r=n.length-1,e.each(n,function(o,i){var s=o!=r?i+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(u[s])&&o!=r)u=u[s];else{if(u[s]!==t)return c=u[s],!1;if(!e.isPlainObject(u[i])||o==r)return u[i]!==t?(c=u[i],!1):(a.error(f.method,n),!1);u=u[i]}})),e.isFunction(c)?l=c.apply(s,o):c!==t&&(l=c),e.isArray(i)?i.push(l):i!==t?i=[i,l]:l!==t&&(i=l),c}},u?(P===t&&a.initialize(),a.invoke(l)):(P!==t&&P.invoke("destroy"),a.initialize())}),i!==t?i:this},e.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(e,n,o,t){"use strict";e.fn.visibility=function(i){var a,s=e(this),r=s.selector||"",c=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,m=[].slice.call(arguments,1);return s.each(function(){var s,g,f,p=e.isPlainObject(i)?e.extend(!0,{},e.fn.visibility.settings,i):e.extend({},e.fn.visibility.settings),b=p.className,h=p.namespace,v=p.error,y=p.metadata,C="."+h,P="module-"+h,x=e(n),S=e(this),k=e(p.context),w=(S.selector||"",S.data(P)),T=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)},O=this,R=!1;f={initialize:function(){f.debug("Initializing",p),f.setup.cache(),f.should.trackChanges()&&("image"==p.type&&f.setup.image(),"fixed"==p.type&&f.setup.fixed(),p.observeChanges&&f.observeChanges(),f.bind.events()),f.save.position(),f.is.visible()||f.error(v.visible,S),p.initialCheck&&f.checkVisibility(),f.instantiate()},instantiate:function(){f.debug("Storing instance",f),S.data(P,f),w=f},destroy:function(){f.verbose("Destroying previous module"),g&&g.disconnect(),x.off("load"+C,f.event.load).off("resize"+C,f.event.resize),k.off("scrollchange"+C,f.event.scrollchange),S.off(C).removeData(P)},observeChanges:function(){"MutationObserver"in n&&(g=new MutationObserver(function(e){f.verbose("DOM tree modified, updating visibility calculations"),f.timer=setTimeout(function(){f.verbose("DOM tree modified, updating sticky menu"),f.refresh()},100)}),g.observe(O,{childList:!0,subtree:!0}),f.debug("Setting up mutation observer",g))},bind:{events:function(){f.verbose("Binding visibility events to scroll and resize"),p.refreshOnLoad&&x.on("load"+C,f.event.load),x.on("resize"+C,f.event.resize),k.off("scroll"+C).on("scroll"+C,f.event.scroll).on("scrollchange"+C,f.event.scrollchange)}},event:{resize:function(){f.debug("Window resized"),p.refreshOnResize&&T(f.refresh)},load:function(){f.debug("Page finished loading"),T(f.refresh)},scroll:function(){p.throttle?(clearTimeout(f.timer),f.timer=setTimeout(function(){k.triggerHandler("scrollchange"+C,[k.scrollTop()])},p.throttle)):T(function(){k.triggerHandler("scrollchange"+C,[k.scrollTop()])})},scrollchange:function(e,n){f.checkVisibility(n)}},precache:function(n,t){n instanceof Array||(n=[n]);for(var i=n.length,a=0,s=[],r=o.createElement("img"),c=function(){a++,a>=n.length&&e.isFunction(t)&&t()};i--;)r=o.createElement("img"),r.onload=c,r.onerror=c,r.src=n[i],s.push(r)},enableCallbacks:function(){f.debug("Allowing callbacks to occur"),R=!1},disableCallbacks:function(){f.debug("Disabling all callbacks temporarily"),R=!0},should:{trackChanges:function(){return d?(f.debug("One time query, no need to bind events"),!1):(f.debug("Callbacks being attached"),!0)}},setup:{cache:function(){f.cache={occurred:{},screen:{},element:{}}},image:function(){var e=S.data(y.src);e&&(f.verbose("Lazy loading image",e),p.once=!0,p.observeChanges=!1,p.onOnScreen=function(){f.debug("Image on screen",O),f.precache(e,function(){f.set.image(e)})})},fixed:function(){f.debug("Setting up fixed"),p.once=!1,p.observeChanges=!1,p.initialCheck=!0,p.refreshOnLoad=!0,i.transition||(p.transition=!1),f.create.placeholder(),f.debug("Added placeholder",s),p.onTopPassed=function(){f.debug("Element passed, adding fixed position",S),f.show.placeholder(),f.set.fixed(),p.transition&&e.fn.transition!==t&&S.transition(p.transition,p.duration)},p.onTopPassedReverse=function(){f.debug("Element returned to position, removing fixed",S),f.hide.placeholder(),f.remove.fixed()}}},create:{placeholder:function(){f.verbose("Creating fixed position placeholder"),s=S.clone(!1).css("display","none").addClass(b.placeholder).insertAfter(S)}},show:{placeholder:function(){f.verbose("Showing placeholder"),s.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){f.verbose("Hiding placeholder"),s.css("display","none").css("visibility","")}},set:{fixed:function(){f.verbose("Setting element to fixed position"),S.addClass(b.fixed).css({position:"fixed",top:p.offset+"px",left:"auto",zIndex:"1"})},image:function(n){S.attr("src",n),p.transition?e.fn.transition!==t?S.transition(p.transition,p.duration):S.fadeIn(p.duration):S.show()}},is:{onScreen:function(){var e=f.get.elementCalculations();return e.onScreen},offScreen:function(){var e=f.get.elementCalculations();return e.offScreen},visible:function(){return f.cache&&f.cache.element?!(0===f.cache.element.width&&0===f.cache.element.offset.top):!1}},refresh:function(){f.debug("Refreshing constants (width/height)"),"fixed"==p.type&&(f.remove.fixed(),f.remove.occurred()),f.reset(),f.save.position(),p.checkOnRefresh&&f.checkVisibility(),p.onRefresh.call(O)},reset:function(){f.verbose("Reseting all cached values"),e.isPlainObject(f.cache)&&(f.cache.screen={},f.cache.element={})},checkVisibility:function(e){f.verbose("Checking visibility of element",f.cache.element),!R&&f.is.visible()&&(f.save.scroll(e),f.save.calculations(),f.passed(),f.passingReverse(),f.topVisibleReverse(),f.bottomVisibleReverse(),f.topPassedReverse(),f.bottomPassedReverse(),f.onScreen(),f.offScreen(),f.passing(),f.topVisible(),f.bottomVisible(),f.topPassed(),f.bottomPassed(),p.onUpdate&&p.onUpdate.call(O,f.get.elementCalculations()))},passed:function(n,o){var i=f.get.elementCalculations();if(n&&o)p.onPassed[n]=o;else{if(n!==t)return f.get.pixelsPassed(n)>i.pixelsPassed;i.passing&&e.each(p.onPassed,function(e,n){i.bottomVisible||i.pixelsPassed>f.get.pixelsPassed(e)?f.execute(n,e):p.once||f.remove.occurred(n)})}},onScreen:function(e){var n=f.get.elementCalculations(),o=e||p.onOnScreen,i="onScreen";return e&&(f.debug("Adding callback for onScreen",e),p.onOnScreen=e),n.onScreen?f.execute(o,i):p.once||f.remove.occurred(i),e!==t?n.onOnScreen:void 0},offScreen:function(e){var n=f.get.elementCalculations(),o=e||p.onOffScreen,i="offScreen";return e&&(f.debug("Adding callback for offScreen",e),p.onOffScreen=e),n.offScreen?f.execute(o,i):p.once||f.remove.occurred(i),e!==t?n.onOffScreen:void 0},passing:function(e){var n=f.get.elementCalculations(),o=e||p.onPassing,i="passing";return e&&(f.debug("Adding callback for passing",e),p.onPassing=e),n.passing?f.execute(o,i):p.once||f.remove.occurred(i),e!==t?n.passing:void 0},topVisible:function(e){var n=f.get.elementCalculations(),o=e||p.onTopVisible,i="topVisible";return e&&(f.debug("Adding callback for top visible",e),p.onTopVisible=e),n.topVisible?f.execute(o,i):p.once||f.remove.occurred(i),e===t?n.topVisible:void 0},bottomVisible:function(e){var n=f.get.elementCalculations(),o=e||p.onBottomVisible,i="bottomVisible";return e&&(f.debug("Adding callback for bottom visible",e),p.onBottomVisible=e),n.bottomVisible?f.execute(o,i):p.once||f.remove.occurred(i),e===t?n.bottomVisible:void 0},topPassed:function(e){var n=f.get.elementCalculations(),o=e||p.onTopPassed,i="topPassed";return e&&(f.debug("Adding callback for top passed",e),p.onTopPassed=e),n.topPassed?f.execute(o,i):p.once||f.remove.occurred(i),e===t?n.topPassed:void 0},bottomPassed:function(e){var n=f.get.elementCalculations(),o=e||p.onBottomPassed,i="bottomPassed";return e&&(f.debug("Adding callback for bottom passed",e),p.onBottomPassed=e),n.bottomPassed?f.execute(o,i):p.once||f.remove.occurred(i),e===t?n.bottomPassed:void 0},passingReverse:function(e){var n=f.get.elementCalculations(),o=e||p.onPassingReverse,i="passingReverse";return e&&(f.debug("Adding callback for passing reverse",e),p.onPassingReverse=e),n.passing?p.once||f.remove.occurred(i):f.get.occurred("passing")&&f.execute(o,i),e!==t?!n.passing:void 0},topVisibleReverse:function(e){var n=f.get.elementCalculations(),o=e||p.onTopVisibleReverse,i="topVisibleReverse";return e&&(f.debug("Adding callback for top visible reverse",e),p.onTopVisibleReverse=e),n.topVisible?p.once||f.remove.occurred(i):f.get.occurred("topVisible")&&f.execute(o,i),e===t?!n.topVisible:void 0},bottomVisibleReverse:function(e){var n=f.get.elementCalculations(),o=e||p.onBottomVisibleReverse,i="bottomVisibleReverse";return e&&(f.debug("Adding callback for bottom visible reverse",e),p.onBottomVisibleReverse=e),n.bottomVisible?p.once||f.remove.occurred(i):f.get.occurred("bottomVisible")&&f.execute(o,i),e===t?!n.bottomVisible:void 0},topPassedReverse:function(e){var n=f.get.elementCalculations(),o=e||p.onTopPassedReverse,i="topPassedReverse";return e&&(f.debug("Adding callback for top passed reverse",e),p.onTopPassedReverse=e),n.topPassed?p.once||f.remove.occurred(i):f.get.occurred("topPassed")&&f.execute(o,i),e===t?!n.onTopPassed:void 0},bottomPassedReverse:function(e){var n=f.get.elementCalculations(),o=e||p.onBottomPassedReverse,i="bottomPassedReverse";return e&&(f.debug("Adding callback for bottom passed reverse",e),p.onBottomPassedReverse=e),n.bottomPassed?p.once||f.remove.occurred(i):f.get.occurred("bottomPassed")&&f.execute(o,i),e===t?!n.bottomPassed:void 0},execute:function(e,n){var o=f.get.elementCalculations(),t=f.get.screenCalculations();e=e||!1,e&&(p.continuous?(f.debug("Callback being called continuously",n,o),e.call(O,o,t)):f.get.occurred(n)||(f.debug("Conditions met",n,o),e.call(O,o,t))),f.save.occurred(n)},remove:{fixed:function(){f.debug("Removing fixed position"),S.removeClass(b.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(e){if(e){var n=f.cache.occurred;n[e]!==t&&n[e]===!0&&(f.debug("Callback can now be called again",e),f.cache.occurred[e]=!1)}else f.cache.occurred={}}},save:{calculations:function(){f.verbose("Saving all calculations necessary to determine positioning"),f.save.direction(),f.save.screenCalculations(),f.save.elementCalculations()},occurred:function(e){e&&(f.cache.occurred[e]===t||f.cache.occurred[e]!==!0)&&(f.verbose("Saving callback occurred",e),f.cache.occurred[e]=!0)},scroll:function(e){e=e+p.offset||k.scrollTop()+p.offset,f.cache.scroll=e},direction:function(){var e,n=f.get.scroll(),o=f.get.lastScroll();return e=n>o&&o?"down":o>n&&o?"up":"static",f.cache.direction=e,f.cache.direction},elementPosition:function(){var e=f.cache.element,n=f.get.screenSize();return f.verbose("Saving element position"),e.fits=e.height<n.height,e.offset=S.offset(),e.width=S.outerWidth(),e.height=S.outerHeight(),f.cache.element=e,e},elementCalculations:function(){var e=f.get.screenCalculations(),n=f.get.elementPosition();return p.includeMargin?(n.margin={},n.margin.top=parseInt(S.css("margin-top"),10),n.margin.bottom=parseInt(S.css("margin-bottom"),10),n.top=n.offset.top-n.margin.top,n.bottom=n.offset.top+n.height+n.margin.bottom):(n.top=n.offset.top,n.bottom=n.offset.top+n.height),n.topVisible=e.bottom>=n.top,n.topPassed=e.top>=n.top,n.bottomVisible=e.bottom>=n.bottom,n.bottomPassed=e.top>=n.bottom,n.pixelsPassed=0,n.percentagePassed=0,n.onScreen=n.topVisible&&!n.bottomPassed,n.passing=n.topPassed&&!n.bottomPassed,n.offScreen=!n.onScreen,n.passing&&(n.pixelsPassed=e.top-n.top,n.percentagePassed=(e.top-n.top)/n.height),f.cache.element=n,f.verbose("Updated element calculations",n),n},screenCalculations:function(){var e=f.get.scroll();return f.save.direction(),f.cache.screen.top=e,f.cache.screen.bottom=e+f.cache.screen.height,f.cache.screen},screenSize:function(){f.verbose("Saving window position"),f.cache.screen={height:k.height()}},position:function(){f.save.screenSize(),f.save.elementPosition()}},get:{pixelsPassed:function(e){var n=f.get.elementCalculations();return e.search("%")>-1?n.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return f.cache.occurred!==t?f.cache.occurred[e]||!1:!1},direction:function(){return f.cache.direction===t&&f.save.direction(),f.cache.direction},elementPosition:function(){return f.cache.element===t&&f.save.elementPosition(),f.cache.element},elementCalculations:function(){return f.cache.element===t&&f.save.elementCalculations(),f.cache.element},screenCalculations:function(){return f.cache.screen===t&&f.save.screenCalculations(),f.cache.screen},screenSize:function(){return f.cache.screen===t&&f.save.screenSize(),f.cache.screen},scroll:function(){return f.cache.scroll===t&&f.save.scroll(),f.cache.scroll},lastScroll:function(){return f.cache.screen===t?(f.debug("First scroll event, no last scroll could be found"),!1):f.cache.screen.top}},setting:function(n,o){if(e.isPlainObject(n))e.extend(!0,p,n);else{if(o===t)return p[n];p[n]=o}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,f,n);else{
if(o===t)return f[n];f[n]=o}},debug:function(){p.debug&&(p.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,p.name+":"),f.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,p.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var n,o,t;p.performance&&(n=(new Date).getTime(),t=c||n,o=n-t,c=n,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":o})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var n=p.name+":",o=0;c=!1,clearTimeout(f.performance.timer),e.each(l,function(e,n){o+=n["Execution Time"]}),n+=" "+o+"ms",r&&(n+=" '"+r+"'"),(console.group!==t||console.table!==t)&&l.length>0&&(console.groupCollapsed(n),console.table?console.table(l):e.each(l,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(n,o,i){var s,r,c,l=w;return o=o||m,i=O||i,"string"==typeof n&&l!==t&&(n=n.split(/[\. ]/),s=n.length-1,e.each(n,function(o,i){var a=o!=s?i+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(l[a])&&o!=s)l=l[a];else{if(l[a]!==t)return r=l[a],!1;if(!e.isPlainObject(l[i])||o==s)return l[i]!==t?(r=l[i],!1):(f.error(v.method,n),!1);l=l[i]}})),e.isFunction(r)?c=r.apply(i,o):r!==t&&(c=r),e.isArray(a)?a.push(c):a!==t?a=[a,c]:c!==t&&(a=c),r}},d?(w===t&&f.initialize(),w.save.scroll(),w.save.calculations(),f.invoke(u)):(w!==t&&w.invoke("destroy"),f.initialize())}),a!==t?a:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:n,throttle:!1,type:!1,transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);